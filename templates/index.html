<!DOCTYPE html>
<html lang="en">
  <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>AI Product Video Bot</title>
      <style>
                * { margin: 0; padding: 0; box-sizing: border-box; }
                body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
                .container { max-width: 1200px; margin: 0 auto; background: white; border-radius: 10px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); overflow: hidden; }
                .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; text-align: center; }
                .header h1 { font-size: 2.5em; margin-bottom: 10px; }
                .content { padding: 40px; display: grid; grid-template-columns: 1fr 1fr; gap: 40px; }
                .section { display: flex; flex-direction: column; gap: 20px; }
                .section h2 { color: #333; font-size: 1.8em; border-bottom: 3px solid #667eea; padding-bottom: 10px; }
                .form-group { display: flex; flex-direction: column; gap: 8px; }
                label { font-weight: 600; color: #555; font-size: 0.95em; }
                input[type="text"], input[type="file"], textarea, select { padding: 12px; border: 2px solid #e0e0e0; border-radius: 5px; font-family: inherit; font-size: 0.95em; transition: border-color 0.3s; }
                input:focus, textarea:focus, select:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); }
                textarea { resize: vertical; min-height: 100px; }
                button { padding: 12px 24px; background: #667eea; color: white; border: none; border-radius: 5px; font-weight: 600; cursor: pointer; transition: all 0.3s; font-size: 1em; }
                button:hover { background: #5568d3; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4); }
                button:disabled { background: #ccc; cursor: not-allowed; }
                .preview-section { background: #f8f9fa; padding: 20px; border-radius: 5px; }
                .image-preview { max-width: 100%; max-height: 300px; border-radius: 5px; margin-bottom: 15px; }
                .script-box { background: white; padding: 15px; border-left: 4px solid #667eea; border-radius: 3px; line-height: 1.6; color: #555; font-size: 0.9em; max-height: 300px; overflow-y: auto; }
                .video-container { width: 100%; aspect-ratio: 16/9; background: #000; border-radius: 5px; overflow: hidden; }
                video { width: 100%; height: 100%; object-fit: contain; }
                .loading { display: none; text-align: center; color: #667eea; font-weight: 600; }
                .spinner { border: 4px solid #f3f3f3; border-top: 4px solid #667eea; border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite; margin: 0 auto 10px; }
                @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
                .alert { padding: 15px; border-radius: 5px; margin-bottom: 15px; display: none; }
                .alert.success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; display: block; }
                .alert.error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; display: block; }
                @media (max-width: 768px) { .content { grid-template-columns: 1fr; } }
            </style>
  </head>
  <body>
        <div class="container">
                  <div class="header">
                                <h1>üé¨ AI Product Video Bot</h1>
                              <p>Transform your product images into stunning AI-generated ads in seconds</p>
                  </div>div>
                
                <div class="content">
                            <div class="section">
                                            <h2>üì∏ Create Your Video</h2>
                                            <div class="alert" id="alert"></div>div>
                                            
                                            <div class="form-group">
                                                                <label for="productName">Product Name *</label>label>
                                                                <input type="text" id="productName" placeholder="e.g., Premium Wireless Headphones">
                                            </div>div>
                                            
                                            <div class="form-group">
                                                                <label for="productDescription">Product Description *</label>label>
                                                                <textarea id="productDescription" placeholder="Describe your product..."></textarea>
                                            </div>div>
                                            
                                            <div class="form-group">
                                                                <label for="keyFeatures">Key Features *</label>label>
                                                                <input type="text" id="keyFeatures" placeholder="e.g., Noise Cancelling, 30hr Battery">
                                            </div>div>
                                            
                                            <div class="form-group">
                                                                <label for="productImage">Upload Product Image *</label>label>
                                                                <input type="file" id="productImage" accept="image/*">
                                            </div>div>
                                            
                                            <div class="form-group">
                                                                <label for="videoStyle">Video Style</label>label>
                                                                <select id="videoStyle">
                                                                                        <option value="cinematic">Cinematic</option>option>
                                                                                        <option value="modern">Modern</option>option>
                                                                                        <option value="professional">Professional</option>option>
                                                                </select>select>
                                            </div>div>
                                            
                                            <button id="generateScriptBtn" onclick="generateScript()">Generate Ad Script</button>button>
                                            <button id="generateVideoBtn" onclick="generateVideo()" disabled>Generate Video</button>button>
                                            
                                            <div class="loading" id="loading">
                                                                <div class="spinner"></div>div>
                                                                <p>Creating your video...</p>
                                            </div>div>
                            </div>div>
                            
                            <div class="section">
                                            <h2>üëÅÔ∏è Preview</h2>
                                            
                                            <div class="preview-section">
                                                                <h3 style="margin-bottom: 10px; color: #555;">Product Image</h3>
                                                                <img id="imagePreview" class="image-preview" style="display:none;">
                                                                <p id="noImageText" style="color: #999;">No image uploaded yet</p>
                                            </div>div>
                                            
                                            <div class="preview-section">
                                                                <h3 style="margin-bottom: 10px; color: #555;">Generated Script</h3>
                                                                <div id="scriptPreview" class="script-box" style="display:none;"></div>div>
                                                                <p id="noScriptText" style="color: #999;">Script will appear here</p>
                                            </div>div>
                                            
                                            <div class="preview-section">
                                                                <h3 style="margin-bottom: 10px; color: #555;">Your Video</h3>
                                                                <div id="videoContainer" class="video-container" style="display:none;">
                                                                                        <video id="videoPlayer" controls></video>video>
                                                                </div>div>
                                                                <p id="noVideoText" style="color: #999;">Video will appear here</p>
                                            </div>div>
                            </div>div>
                </div>div>
        </div>div>
      
      <script>
                let uploadedFilename = '';

                function showAlert(message, type) {
                              const alert = document.getElementById('alert');
                              alert.textContent = message;
                              alert.className = `alert ${type}`;
                }

                document.getElementById('productImage').addEventListener('change', async (e) => {
                              const file = e.target.files[0];
                              if (!file) return;

                              const reader = new FileReader();
                              reader.onload = (event) => {
                                                document.getElementById('imagePreview').src = event.target.result;
                                                document.getElementById('imagePreview').style.display = 'block';
                                                document.getElementById('noImageText').style.display = 'none';
                              };
                              reader.readAsDataURL(file);

                              const formData = new FormData();
                              formData.append('file', file);

                              try {
                                                const response = await fetch('/api/upload', {
                                                                      method: 'POST',
                                                                      body: formData
                                                });
                                                const data = await response.json();
                                                uploadedFilename = data.filename;
                                                showAlert('Image uploaded successfully!', 'success');
                              } catch (error) {
                                                showAlert('Failed to upload image', 'error');
                              }
                });

                async function generateScript() {
                              const productName = document.getElementById('productName').value;
                              const productDescription = document.getElementById('productDescription').value;
                              const keyFeatures = document.getElementById('keyFeatures').value;

                              if (!productName || !productDescription || !keyFeatures) {
                                                showAlert('Please fill in all product fields', 'error');
                                                return;
                              }

                              document.getElementById('generateScriptBtn').disabled = true;
                              document.getElementById('loading').style.display = 'block';

                              try {
                                                const response = await fetch('/api/generate-script', {
                                                                      method: 'POST',
                                                                      headers: { 'Content-Type': 'application/json' },
                                                                      body: JSON.stringify({
                                                                                                productName,
                                                                                                productDescription,
                                                                                                keyFeatures
                                                                        })
                                                });

                                                const data = await response.json();
                                                document.getElementById('scriptPreview').textContent = data.script;
                                                document.getElementById('scriptPreview').style.display = 'block';
                                                document.getElementById('noScriptText').style.display = 'none';
                                                document.getElementById('generateVideoBtn').disabled = false;

                                                showAlert('Script generated successfully!', 'success');
                              } catch (error) {
                                                showAlert('Failed to generate script', 'error');
                              } finally {
                                                document.getElementById('generateScriptBtn').disabled = false;
                                                document.getElementById('loading').style.display = 'none';
                              }
                }

                async function generateVideo() {
                              if (!uploadedFilename) {
                                                showAlert('Please upload an image first', 'error');
                                                return;
                              }

                              const script = document.getElementById('scriptPreview').textContent;
                              const videoStyle = document.getElementById('videoStyle').value;

                              document.getElementById('generateVideoBtn').disabled = true;
                              document.getElementById('loading').style.display = 'block';

                              try {
                                                const response = await fetch('/api/generate-video', {
                                                                      method: 'POST',
                                                                      headers: { 'Content-Type': 'application/json' },
                                                                      body: JSON.stringify({
                                                                                                imageFilename: uploadedFilename,
                                                                                                script,
                                                                                                videoStyle
                                                                        })
                                                });

                                                const data = await response.json();
                                                document.getElementById('videoPlayer').src = data.videoUrl;
                                                document.getElementById('videoContainer').style.display = 'block';
                                                document.getElementById('noVideoText').style.display = 'none';

                                                showAlert('Video generated successfully!', 'success');
                              } catch (error) {
                                                showAlert('Failed to generate video', 'error');
                              } finally {
                                                document.getElementById('generateVideoBtn').disabled = false;
                                                document.getElementById('loading').style.display = 'none';
                              }
                }
      </script>
  </body>
</html>html>
      </script></p></p></h1>
  </body>
      </style></title>
  </head>
